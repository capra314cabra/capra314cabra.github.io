<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="capra314cabra"><meta name=description content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta name=keywords content="wsl2,インストール,wsl,windows"><meta name=twitter:card content="summary"><meta name=twitter:title content="WSL2を使えるようにする"><meta name=twitter:description content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta property="og:title" content="WSL2を使えるようにする"><meta property="og:description" content="WSL2をインストールすることが一筋縄ではいかなかったので、その教訓を書き残します。"><meta property="og:type" content="article"><meta property="og:url" content="https://capra314cabra.github.io/posts/wsl2-setup/"><meta property="article:published_time" content="2020-03-14T20:04:43+09:00"><meta property="article:modified_time" content="2020-10-03T22:12:36+09:00"><meta property="og:site_name" content="Capra Cabra Notes"><base href=https://capra314cabra.github.io/posts/wsl2-setup/><title>WSL2を使えるようにする · Capra Cabra Notes</title><link rel=canonical href=https://capra314cabra.github.io/posts/wsl2-setup/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js onload=hljs.initHighlightingOnLoad(); async></script><link rel=stylesheet href=https://capra314cabra.github.io/css/coder.min.0f28f86059ff6e679f9cf08b95a190db2c1071167c8abc38584f0eef978c93f7.css integrity="sha256-Dyj4YFn/bmefnPCLlaGQ2ywQcRZ8irw4WE8O75eMk/c=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs2015.min.css><script src=https://cdn.jsdelivr.net/npm/gist-embed@1.0.3/dist/gist-embed.min.js async></script><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js async></script><link rel=icon type=image/png href=https://capra314cabra.github.io/images/logo/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://capra314cabra.github.io/images/logo/favicon-16x16.png sizes=16x16><meta name=generator content="Hugo 0.75.1"><style type=text/css>.icon{font-size:2.5em}</style></head><body class=colorscheme-light><script type=text/javascript src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e930c5ad359121c" async></script><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://capra314cabra.github.io/>Capra Cabra Notes</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fas fa-bars"></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://capra314cabra.github.io/>About</a></li><li class=navigation-item><a class=navigation-link href=https://capra314cabra.github.io/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=https://capra314cabra.github.io/games/>Games</a></li><li class=navigation-item><a class=navigation-link href=https://capra314cabra.github.io/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=https://github.com/capra314cabra>GitHub</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://capra314cabra.github.io/en/>English</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>WSL2を使えるようにする</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fas fa-calendar"></i><time datetime=2020-03-14T20:04:43+09:00>March 14, 2020</time></span>
<span class=reading-time><i class="fas fa-clock"></i>1分で読めます</span></div><div class=tags><i class="fas fa-tag"></i><a href=https://capra314cabra.github.io/tags/wsl2/>WSL2</a></div></div></header><div><p><img src=https://miro.medium.com/max/1326/1*Hv7hbkxpOsNyzt5-Pv8FJQ.png alt="Windows settings" class=center width=650 height=400>
(Quote from Medium)</p><p>Windows上でLinuxをエミュレートしてくれるWSLが進化を遂げ&mldr;<br>遂にWSL2が使用出来るようになりました!やったね!</p><p>このニュースを聞いたら、当然プログラマー的には使ってみたくなりますよね。<br>ということで、気楽にインストールしようとしたら&mldr;&ldquo;あれ?コマンドがないよ"みたいにWindowsに怒られてしまいました。</p><p>WSL2を使用出来るようにするのは一筋縄ではいかなかったので使用できるまでの道筋を紹介していきたいと思います。</p><p>WSL2はまだ安定していない様なので <strong>あくまで自己責任で</strong> お願いします。</p><h2 id=まずwindowsをアップデート>まず、Windowsをアップデート</h2><p>実は、私はこれを忘れて数分溶かしました。</p><blockquote><p>WSL 2 is only available in Windows 10 builds 18917 or higher<br><a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-install>Microsoft - WSL2 Install</a></p></blockquote><p>なるほど、Windows 10のビルド番号18917番以降を持っている必要があるのですね。<br>しかしながら、ただ、愚直にWindowsをアップデートしても、現段階では18917番以前のものになってしまいます。(バージョン確認にはwinverコマンドを)</p><p>それを解決するために、<a href=https://insider.windows.com/en-us/>Windows Insider</a>に加入しましょう。<br>これは、Windowsの新しいバージョンをMicrosoftが配布し、問題を見つけたら報告するというシステムです。<br>試験的な内容をいち早く使うことが出来ます。</p><p>Microsoftアカウントを持っていると登録は一瞬で終わります。なんと、<strong>無料</strong>　です。</p><p>続いて設定を開きます。そして"更新とセキュリティ"をクリック。</p><p><img src=https://capra314cabra.github.io/images/wsl2-setup/settings.jpg alt="Windows settings" class=center width=900 height=300></p><p><img src=https://capra314cabra.github.io/images/wsl2-setup/windows-insider-program.jpg alt="Windows Insider Program" class=center width=300 height=600></p><p>&ldquo;Windows Insider Program"をクリックして、ログインしてください。<br>Insiderの設定は"スロー"で問題ないと思います。</p><p>続いて、&ldquo;Windows Update"に移って、&ldquo;更新プログラムのチェック"をクリック。
先程までなかった、より新しいWindows 10のバージョンへの更新ができるようになります!
これで、先程のWindowsバージョン問題は解決です。あとは、ひたすらWindows Updateを見る会です。</p><h2 id=wslをインストールしていく>WSLをインストールしていく</h2><p>WSLのインストール方法は通常の方法と同じなので割愛します。<br>以下のサイトがわかりやすかったです。(<del>丸投げ</del>)</p><p><a href=https://qiita.com/Aruneko/items/c79810b0b015bebf30bb>Qitta - Windows Subsystem for Linuxをインストールしてみよう！ @Aruneko</a></p><p>本当にWSLのインストールと同じです。<br>WSLを既にインストールしているよ、という方はここをスルーしても大丈夫です。</p><h2 id=wsl2へ変更しましょう>WSL2へ変更しましょう</h2><p><a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-kernel>Microsoft - Updating WSL2 Linux kernel</a></p><p>このサイトに飛んで、WSL2のカーネルを入手します。<br>ダウンロードしてきたインストーラーを実行しましょう!</p><p><img src=https://capra314cabra.github.io/images/wsl2-setup/update-setup.jpg alt="WSL2 Kernel Installer" class=center width=450 height=360></p><p>インストールが終わったら長かったWSL2セットアップももうすぐおしまいです。<br>好きなターミナルを開いて以下のコマンドを打ち込んで実行してください!</p><div class=highlight><pre style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>wsl --set-default-version 2
</code></pre></div><p><img src=https://capra314cabra.github.io/images/wsl2-setup/command-prompt.jpg alt="Running command" class=center width=860 height=210></p><p>おめでとうございます!これであなたもWSL2デビュー!</p><h2 id=おわりに>おわりに</h2><p>いかがだったでしょうか?意外と簡単でしたね。(<del>どの口が言う!</del>)待ち時間が長めでしたが。<br>WSL2で更にWindowsでの開発をブーストしていきましょう!</p><p>質問等あればコメント欄にお願いします。</p></div><footer><script src=https://utteranc.es/client.js repo=capra314cabra/capra314cabra.github.io issue-term=title label=comments theme=github-light crossorigin=anonymous async></script></footer></article></section></div><footer class=footer><section class=container><p>Wanna be a developer improving our lives.</p>© 2020
<a href=https://github.com/capra314cabra>capra314cabra</a></section></footer></main></body></html>